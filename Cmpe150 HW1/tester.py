import sys
import subprocess
import difflib
import os

script = "homework1.py"
inputs = [
r"4",
r"6",
r"8",
r"10"
]
outputs = [
r"""  _               
 ( )              
  Y     /\        
 /|\   /__\       
| | |  /__\       
  |    /__\       
 / \    ||        
|   |   ||        
   _              
  ( )             
   Y    /\        
  /|\  /__\       
 | | | /__\       
   |   /__\       
  / \   ||        
 |   |  ||        
    _             
   ( )            
    Y   /\        
   /|\ /__\       
  | | |/__\       
    |  /__\       
   / \  ||        
  |   | ||        
     _            
    ( )           
     Y  /\        
    /|\/__\       
   | | /__\       
     | /__\       
    / \ ||        
   |   |||        
      _           
     ( )          
      Y /\        
     /|/__\       
    | |/__\       
      |/__\       
     / \||        
    |   ||        
       _          
      ( )         
       Y/\        
      //__\       
     | /__\       
       /__\       
      / ||        
     |  ||        
        _         
       ( )        
        /\        
       /__\       
      |/__\       
       /__\       
       /||        
      | |||       
         _        
        ( )       
        /\        
       /__\       
       /__\|      
       /__\       
        ||\       
       ||| |      
          _       
         ( )      
        /\Y       
       /__\\      
       /__\ |     
       /__\       
        || \      
        ||  |     
           _      
          ( )     
        /\ Y      
       /__\|\     
       /__\| |    
       /__\|      
        ||/ \     
        ||   |    
            _     
           ( )    
        /\  Y     
       /__\/|\    
       /__\ | |   
       /__\ |     
        || / \    
        |||   |   
             _    
            ( )   
        /\   Y    
       /__\ /|\   
       /__\| | |  
       /__\  |    
        ||  / \   
        || |   |  
              _   
             ( )  
        /\    Y   
       /__\  /|\  
       /__\ | | | 
       /__\   |   
        ||   / \  
        ||  |   | 
               _  
              ( ) 
        /\     Y  
       /__\   /|\ 
       /__\  | | |
       /__\    |  
        ||    / \ 
        ||   |   |
""",
r"""         /\         
  _     /  \        
 ( )   /____\       
  Y     /  \        
 /|\   /____\       
| | |   /  \        
  |    /____\       
 / \     ||         
|   |    ||         
         /\         
   _    /  \        
  ( )  /____\       
   Y    /  \        
  /|\  /____\       
 | | |  /  \        
   |   /____\       
  / \    ||         
 |   |   ||         
         /\         
    _   /  \        
   ( ) /____\       
    Y   /  \        
   /|\ /____\       
  | | | /  \        
    |  /____\       
   / \   ||         
  |   |  ||         
         /\         
     _  /  \        
    ( )/____\       
     Y  /  \        
    /|\/____\       
   | | |/  \        
     | /____\       
    / \  ||         
   |   | ||         
         /\         
      _ /  \        
     ( /____\       
      Y /  \        
     /|/____\       
    | | /  \        
      |/____\       
     / \ ||         
    |   |||         
         /\         
       _/  \        
      (/____\       
       Y/  \        
      //____\       
     | |/  \        
       /____\       
      / \||         
     |   ||         
         /\         
        /  \        
       /____\       
        /  \        
       /____\       
      | /  \        
       /____\       
       / ||         
      |  ||         
         /\         
        /  \        
       /____\       
        /  \        
       /____\       
       |/  \        
       /____\       
        /||         
       | |||        
         /\         
        /  \        
       /____\       
        /  \        
       /____\       
        /  \|       
       /____\       
         ||\        
        ||| |       
         /\         
        /  \        
       /____\       
        /  \        
       /____\       
        /  \ |      
       /____\       
         || \       
         ||  |      
         /\         
        /  \_       
       /____\)      
        /  \Y       
       /____\\      
        /  \| |     
       /____\       
         ||/ \      
         ||   |     
         /\         
        /  \ _      
       /____\ )     
        /  \ Y      
       /____\|\     
        /  \ | |    
       /____\|      
         || / \     
         |||   |    
         /\         
        /  \  _     
       /____\( )    
        /  \  Y     
       /____\/|\    
        /  \| | |   
       /____\ |     
         ||  / \    
         || |   |   
         /\         
        /  \   _    
       /____\ ( )   
        /  \   Y    
       /____\ /|\   
        /  \ | | |  
       /____\  |    
         ||   / \   
         ||  |   |  
         /\         
        /  \    _   
       /____\  ( )  
        /  \    Y   
       /____\  /|\  
        /  \  | | | 
       /____\   |   
         ||    / \  
         ||   |   | 
         /\         
        /  \     _  
       /____\   ( ) 
        /  \     Y  
       /____\   /|\ 
        /  \   | | |
       /____\    |  
         ||     / \ 
         ||    |   |
""",
r"""          /\          
         /  \         
        /    \        
       /______\       
  _      /  \         
 ( )    /    \        
  Y    /______\       
 /|\     /  \         
| | |   /    \        
  |    /______\       
 / \      ||          
|   |     ||          
          /\          
         /  \         
        /    \        
       /______\       
   _     /  \         
  ( )   /    \        
   Y   /______\       
  /|\    /  \         
 | | |  /    \        
   |   /______\       
  / \     ||          
 |   |    ||          
          /\          
         /  \         
        /    \        
       /______\       
    _    /  \         
   ( )  /    \        
    Y  /______\       
   /|\   /  \         
  | | | /    \        
    |  /______\       
   / \    ||          
  |   |   ||          
          /\          
         /  \         
        /    \        
       /______\       
     _   /  \         
    ( ) /    \        
     Y /______\       
    /|\  /  \         
   | | |/    \        
     | /______\       
    / \   ||          
   |   |  ||          
          /\          
         /  \         
        /    \        
       /______\       
      _  /  \         
     ( )/    \        
      Y/______\       
     /|\ /  \         
    | | /    \        
      |/______\       
     / \  ||          
    |   | ||          
          /\          
         /  \         
        /    \        
       /______\       
       _ /  \         
      ( /    \        
       /______\       
      /|\/  \         
     | |/    \        
       /______\       
      / \ ||          
     |   |||          
          /\          
         /  \         
        /    \        
       /______\       
        _/  \         
       (/    \        
       /______\       
       /|/  \         
      | /    \        
       /______\       
       / \||          
      |   ||          
          /\          
         /  \         
        /    \        
       /______\       
         /  \         
        /    \        
       /______\       
        //  \         
       |/    \        
       /______\       
        / ||          
       |  ||          
          /\          
         /  \         
        /    \        
       /______\       
         /  \         
        /    \        
       /______\       
         /  \         
        /    \        
       /______\       
         /||          
        | |||         
          /\          
         /  \         
        /    \        
       /______\       
         /  \         
        /    \        
       /______\       
         /  \         
        /    \        
       /______\       
          ||\         
         ||| |        
          /\          
         /  \         
        /    \        
       /______\       
         /  \         
        /    \        
       /______\       
         /  \\        
        /    \|       
       /______\       
          || \        
          ||  |       
          /\          
         /  \         
        /    \        
       /______\       
         /  \_        
        /    \)       
       /______\       
         /  \|\       
        /    \ |      
       /______\       
          ||/ \       
          ||   |      
          /\          
         /  \         
        /    \        
       /______\       
         /  \ _       
        /    \ )      
       /______\       
         /  \/|\      
        /    \| |     
       /______\       
          || / \      
          |||   |     
          /\          
         /  \         
        /    \        
       /______\       
         /  \  _      
        /    \( )     
       /______\Y      
         /  \ /|\     
        /    \ | |    
       /______\|      
          ||  / \     
          || |   |    
          /\          
         /  \         
        /    \        
       /______\       
         /  \   _     
        /    \ ( )    
       /______\ Y     
         /  \  /|\    
        /    \| | |   
       /______\ |     
          ||   / \    
          ||  |   |   
          /\          
         /  \         
        /    \        
       /______\       
         /  \    _    
        /    \  ( )   
       /______\  Y    
         /  \   /|\   
        /    \ | | |  
       /______\  |    
          ||    / \   
          ||   |   |  
          /\          
         /  \         
        /    \        
       /______\       
         /  \     _   
        /    \   ( )  
       /______\   Y   
         /  \    /|\  
        /    \  | | | 
       /______\   |   
          ||     / \  
          ||    |   | 
          /\          
         /  \         
        /    \        
       /______\       
         /  \      _  
        /    \    ( ) 
       /______\    Y  
         /  \     /|\ 
        /    \   | | |
       /______\    |  
          ||      / \ 
          ||     |   |
""",
r"""           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
  _     /      \        
 ( )   /________\       
  Y       /  \          
 /|\     /    \         
| | |   /      \        
  |    /________\       
 / \       ||           
|   |      ||           
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
   _    /      \        
  ( )  /________\       
   Y      /  \          
  /|\    /    \         
 | | |  /      \        
   |   /________\       
  / \      ||           
 |   |     ||           
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
    _   /      \        
   ( ) /________\       
    Y     /  \          
   /|\   /    \         
  | | | /      \        
    |  /________\       
   / \     ||           
  |   |    ||           
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
     _  /      \        
    ( )/________\       
     Y    /  \          
    /|\  /    \         
   | | |/      \        
     | /________\       
    / \    ||           
   |   |   ||           
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
      _ /      \        
     ( /________\       
      Y   /  \          
     /|\ /    \         
    | | /      \        
      |/________\       
     / \   ||           
    |   |  ||           
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
       _/      \        
      (/________\       
       Y  /  \          
      /|\/    \         
     | |/      \        
       /________\       
      / \  ||           
     |   | ||           
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \        
       /________\       
        Y /  \          
       /|/    \         
      | /      \        
       /________\       
       / \ ||           
      |   |||           
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \        
       /________\       
         Y/  \          
        //    \         
       |/      \        
       /________\       
        / \||           
       |   ||           
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \        
       /________\       
         / ||           
        |  ||           
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \        
       /________\       
          /||           
         | |||          
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \        
       /________\       
           ||\          
          ||| |         
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \        
       /________\       
           || \         
           ||  |        
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \        
       /________\       
          /  \Y         
         /    \\        
        /      \|       
       /________\       
           ||/ \        
           ||   |       
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \        
       /________\       
          /  \ Y        
         /    \|\       
        /      \ |      
       /________\       
           || / \       
           |||   |      
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \_       
       /________\)      
          /  \  Y       
         /    \/|\      
        /      \| |     
       /________\       
           ||  / \      
           || |   |     
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \ _      
       /________\ )     
          /  \   Y      
         /    \ /|\     
        /      \ | |    
       /________\|      
           ||   / \     
           ||  |   |    
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \  _     
       /________\( )    
          /  \    Y     
         /    \  /|\    
        /      \| | |   
       /________\ |     
           ||    / \    
           ||   |   |   
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \   _    
       /________\ ( )   
          /  \     Y    
         /    \   /|\   
        /      \ | | |  
       /________\  |    
           ||     / \   
           ||    |   |  
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \    _   
       /________\  ( )  
          /  \      Y   
         /    \    /|\  
        /      \  | | | 
       /________\   |   
           ||      / \  
           ||     |   | 
           /\           
          /  \          
         /    \         
        /      \        
       /________\       
          /  \          
         /    \         
        /      \     _  
       /________\   ( ) 
          /  \       Y  
         /    \     /|\ 
        /      \   | | |
       /________\    |  
           ||       / \ 
           ||      |   |
"""
]

successcount = 0

def sanitize(string):
    return "\n".join(s.rstrip() for s in string.split("\n")).rstrip("\n")

for i, (input, output) in enumerate(zip(inputs, outputs)):
    outputgot = subprocess.check_output([sys.executable, script], input=input, universal_newlines=True)
    outputexp = sanitize(output)
    outputgot = sanitize(outputgot)
    diffhtmlname = f"test{i}_diff.html"
    if outputexp == outputgot:
        if os.path.exists(diffhtmlname):
            os.remove(diffhtmlname)
        print(f"Test {i} passed.")
        successcount += 1
    else:
        outputgotlines = outputgot.split("\n")
        outputexplines = outputexp.split("\n")

        # put HTML diff into an html file
        with open(diffhtmlname, "w") as f:
            f.write(difflib.HtmlDiff().make_file(outputexplines, outputgotlines, "Expected", "Your output"))
        
        print(f"Test {i} failed.  See test{i}_diff.html for details; open it with your internet browser.")

print(f"Passed {successcount} out of {len(inputs)} tests.")
